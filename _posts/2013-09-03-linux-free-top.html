---
layout: default
title: linux free top
categories:
  - linux
---

<h2>{{ page.title }}</h2>
<div id="sina_keyword_ad_area2" class="articalContent  ">
			<font color="#FF0000">1.free简单查看内存</font><br>
<br>
&nbsp;<wbr>&nbsp;<wbr> 　total:总计物理内存的大小。
<p>　　used:已使用多大。</p>
<p>　　free:可用有多少。</p>
<p>　　Shared:多个进程共享的内存总额。</p>
<p>　　Buffers/cached:磁盘缓存的大小。</p>
<br>
<font color="#ED1C24">2.top查看进程，shift+f可以设置排序顺序，如果按照RES排序，可以保证清晰的查看到系统占用内存较大的线程</font><br>
<br>
<br>
<p><font color="#ED1C24"><font color="#ED1C24">3</font>.&nbsp;<wbr>&nbsp;<wbr>TOP前五行统计信息</font></p>
<p>统计信息区前五行是系统整体的统计信息。</p>
<p><font color="#22B14C">一.&nbsp;<wbr>第一行是任务队列信息</font></p>
<p>
同&nbsp;<wbr>uptime&nbsp;<wbr>&nbsp;<wbr>命令的执行结果:</p>
<p>[root@localhost ~]# uptime</p>
<p>&nbsp;<wbr>13:22:30 up 8
min,&nbsp;<wbr>&nbsp;<wbr>4
users,&nbsp;<wbr>&nbsp;<wbr>load average: 0.14, 0.38,
0.25</p>
<p>其内容如下：</p>
<table border="1" cellpadding="0" cellspacing="0">
<tbody>
<tr>
<td width="208">
<p align="left">12:38:33</p>
</td>
<td width="346">
<p align="left">当前时间</p>
</td>
</tr>
<tr>
<td width="208">
<p align="left">up 50days</p>
</td>
<td width="346">
<p align="left">系统运行时间，格式为时:分</p>
</td>
</tr>
<tr>
<td width="208">
<p align="left">1 user</p>
</td>
<td width="346">
<p align="left">当前登录用户数</p>
</td>
</tr>
<tr>
<td width="208">
<p align="left">load average: 0.06, 0.60, 0.48</p>
</td>
<td width="346">
<p align="left">
系统负载，即任务队列的平均长度。&nbsp;<wbr>三个数值分别为&nbsp;<wbr>&nbsp;<wbr>1分钟、5分钟、15分钟前到现在的平均值。</p>
</td>
</tr>
</tbody>
</table>
<p><font color="#22B14C">二.&nbsp;<wbr>第二、三行为进程和CPU的信息</font></p>
<p>当有多个CPU时，这些内容可能会超过两行。内容如下：</p>
<table border="1" cellpadding="0" cellspacing="0">
<tbody>
<tr>
<td width="113">
<p align="left">Tasks: 29 total</p>
</td>
<td width="387">
<p align="left">进程总数</p>
</td>
</tr>
<tr>
<td width="113">
<p align="left">1 running</p>
</td>
<td width="387">
<p align="left">正在运行的进程数</p>
</td>
</tr>
<tr>
<td width="113">
<p align="left">28 sleeping</p>
</td>
<td width="387">
<p align="left">睡眠的进程数</p>
</td>
</tr>
<tr>
<td width="113">
<p align="left">0 stopped</p>
</td>
<td width="387">
<p align="left">停止的进程数</p>
</td>
</tr>
<tr>
<td width="113">
<p align="left">0 zombie</p>
</td>
<td width="387">
<p align="left">僵尸进程数</p>
</td>
</tr>
<tr>
<td width="113">
<p align="left">Cpu(s): 0.3% us</p>
</td>
<td width="387">
<p align="left">用户空间占用CPU百分比</p>
</td>
</tr>
<tr>
<td width="113">
<p align="left">1.0% sy</p>
</td>
<td width="387">
<p align="left">内核空间占用CPU百分比</p>
</td>
</tr>
<tr>
<td width="113">
<p align="left">0.0% ni</p>
</td>
<td width="387">
<p align="left">用户进程空间内改变过优先级的进程占用CPU百分比</p>
</td>
</tr>
<tr>
<td width="113">
<p align="left">98.7% id</p>
</td>
<td width="387">
<p align="left">空闲CPU百分比</p>
</td>
</tr>
<tr>
<td width="113">
<p align="left">0.0% wa</p>
</td>
<td width="387">
<p align="left">等待输入输出的CPU时间百分比</p>
</td>
</tr>
<tr>
<td width="113">
<p align="left">0.0% hi</p>
</td>
<td width="387"><br></td>
</tr>
<tr>
<td width="113">
<p align="left">0.0% si</p>
</td>
<td width="387"><br></td>
</tr>
</tbody>
</table>
<p><font color="#22B14C">三.&nbsp;<wbr>第四五行为内存信息。</font></p>
<p>内容如下：</p>
<table border="1" cellpadding="0" cellspacing="0">
<tbody>
<tr>
<td width="142">
<p align="left">Mem:&nbsp;<wbr>191272k total</p>
</td>
<td width="436">
<p align="left">物理内存总量</p>
</td>
</tr>
<tr>
<td width="142">
<p align="left">173656k used</p>
</td>
<td width="436">
<p align="left">使用的物理内存总量</p>
</td>
</tr>
<tr>
<td width="142">
<p align="left">17616k free</p>
</td>
<td width="436">
<p align="left">空闲内存总量</p>
</td>
</tr>
<tr>
<td width="142">
<p align="left">22052k buffers</p>
</td>
<td width="436">
<p align="left">用作内核缓存的内存量</p>
</td>
</tr>
<tr>
<td width="142">
<p align="left">Swap:&nbsp;<wbr>192772k total</p>
</td>
<td width="436">
<p align="left">交换区总量</p>
</td>
</tr>
<tr>
<td width="142">
<p align="left">0k used</p>
</td>
<td width="436">
<p align="left">使用的交换区总量</p>
</td>
</tr>
<tr>
<td width="142">
<p align="left">192772k free</p>
</td>
<td width="436">
<p align="left">空闲交换区总量</p>
</td>
</tr>
<tr>
<td width="142">
<p align="left">123988k cached</p>
</td>
<td width="436">
<p align="left">
缓冲的交换区总量。&nbsp;<wbr>内存中的内容被换出到交换区，而后又被换入到内存，但使用过的交换区尚未被覆盖，&nbsp;<wbr>该数值即为这些<strong>内容已存在于内存中</strong>的交换区的大小。相应的内存再次被换出时可不必再对交换区写入。</p>
</td>
</tr>
</tbody>
</table>
<p><font color="#22B14C">四.&nbsp;<wbr>&nbsp;<wbr>进程信息</font></p>
<table border="1" cellpadding="0" cellspacing="0">
<tbody>
<tr>
<td width="95">
<p>列名</p>
</td>
<td width="423">
<p>含义</p>
</td>
</tr>
<tr>
<td width="95">
<p>PID</p>
</td>
<td width="423">
<p>进程id</p>
</td>
</tr>
<tr>
<td width="95">
<p>PPID</p>
</td>
<td width="423">
<p>父进程id</p>
</td>
</tr>
<tr>
<td width="95">
<p>RUSER</p>
</td>
<td width="423">
<p>Real user name</p>
</td>
</tr>
<tr>
<td width="95">
<p>UID</p>
</td>
<td width="423">
<p>进程所有者的用户id</p>
</td>
</tr>
<tr>
<td width="95">
<p>USER</p>
</td>
<td width="423">
<p>进程所有者的用户名</p>
</td>
</tr>
<tr>
<td width="95">
<p>GROUP</p>
</td>
<td width="423">
<p>进程所有者的组名</p>
</td>
</tr>
<tr>
<td width="95">
<p>TTY</p>
</td>
<td width="423">
<p>启动进程的终端名。不是从终端启动的进程则显示为&nbsp;<wbr>?</p>
</td>
</tr>
<tr>
<td width="95">
<p>PR</p>
</td>
<td width="423">
<p>优先级</p>
</td>
</tr>
<tr>
<td width="95">
<p>NI</p>
</td>
<td width="423">
<p>nice值。负值表示高优先级，正值表示低优先级</p>
</td>
</tr>
<tr>
<td width="95">
<p>P</p>
</td>
<td width="423">
<p>最后使用的CPU，仅在多CPU环境下有意义</p>
</td>
</tr>
<tr>
<td width="95">
<p>%CPU</p>
</td>
<td width="423">
<p>上次更新到现在的CPU时间占用百分比</p>
</td>
</tr>
<tr>
<td width="95">
<p>TIME</p>
</td>
<td width="423">
<p>进程使用的CPU时间总计，单位秒</p>
</td>
</tr>
<tr>
<td width="95">
<p>TIME+</p>
</td>
<td width="423">
<p>进程使用的CPU时间总计，单位1/100秒</p>
</td>
</tr>
<tr>
<td width="95">
<p>%MEM</p>
</td>
<td width="423">
<p>进程使用的物理内存百分比</p>
</td>
</tr>
<tr>
<td width="95">
<p>VIRT</p>
</td>
<td width="423">
<p>进程使用的虚拟内存总量，单位kb。VIRT=SWAP+RES</p>
</td>
</tr>
<tr>
<td width="95">
<p>SWAP</p>
</td>
<td width="423">
<p>进程使用的虚拟内存中，被换出的大小，单位kb。</p>
</td>
</tr>
<tr>
<td width="95">
<p>RES</p>
</td>
<td width="423">
<p>进程使用的、未被换出的物理内存大小，单位kb。RES=CODE+DATA</p>
</td>
</tr>
<tr>
<td width="95">
<p>CODE</p>
</td>
<td width="423">
<p>可执行代码占用的物理内存大小，单位kb</p>
</td>
</tr>
<tr>
<td width="95">
<p>DATA</p>
</td>
<td width="423">
<p>可执行代码以外的部分(数据段+栈)占用的物理内存大小，单位kb</p>
</td>
</tr>
<tr>
<td width="95">
<p>SHR</p>
</td>
<td width="423">
<p>共享内存大小，单位kb</p>
</td>
</tr>
<tr>
<td width="95">
<p>nFLT</p>
</td>
<td width="423">
<p>页面错误次数</p>
</td>
</tr>
<tr>
<td width="95">
<p>nDRT</p>
</td>
<td width="423">
<p>最后一次写入到现在，被修改过的页面数。</p>
</td>
</tr>
<tr>
<td width="95">
<p>S</p>
</td>
<td width="423">
<p>进程状态。<br>
&nbsp;<wbr> &nbsp;<wbr>&nbsp;<wbr>
&nbsp;<wbr>&nbsp;<wbr>
&nbsp;<wbr>&nbsp;<wbr>
&nbsp;<wbr>D=不可中断的睡眠状态<br>
&nbsp;<wbr> &nbsp;<wbr>&nbsp;<wbr>
&nbsp;<wbr>&nbsp;<wbr>
&nbsp;<wbr>&nbsp;<wbr> &nbsp;<wbr>R=运行<br>
&nbsp;<wbr> &nbsp;<wbr>&nbsp;<wbr>
&nbsp;<wbr>&nbsp;<wbr>
&nbsp;<wbr>&nbsp;<wbr> &nbsp;<wbr>S=睡眠<br>
&nbsp;<wbr> &nbsp;<wbr>&nbsp;<wbr>
&nbsp;<wbr>&nbsp;<wbr>
&nbsp;<wbr>&nbsp;<wbr>
&nbsp;<wbr>T=跟踪/停止<br>
&nbsp;<wbr> &nbsp;<wbr>&nbsp;<wbr>
&nbsp;<wbr>&nbsp;<wbr>
&nbsp;<wbr>&nbsp;<wbr> &nbsp;<wbr>Z=僵尸进程</p>
</td>
</tr>
<tr>
<td width="95">
<p>COMMAND</p>
</td>
<td width="423">
<p>命令名/命令行</p>
</td>
</tr>
<tr>
<td width="95">
<p>WCHAN</p>
</td>
<td width="423">
<p>若该进程在睡眠，则显示睡眠中的系统函数名</p>
</td>
</tr>
<tr>
<td width="95">
<p>Flags</p>
</td>
<td width="423">
<p>任务标志，参考&nbsp;<wbr>sched.h</p>
</td>
</tr>
</tbody>
</table>
&nbsp;<wbr> <font color="#22B14C">五.常用快捷键</font><br>
<br>
<div><code>在 top 执行过程当中可以使用的按键指令：</code></div>
<div><code>? ：显示在 top 当中可以输入的按键指令；</code></div>
<div><code>P</code> <code>：以</code> <code>CPU</code>
<code>的使用资源排序显示；</code></div>
<div><code>M</code> <code>：以 Memory 的使用资源排序显示；</code></div>
<div><code>N</code> <code>：以</code> <code>PID</code>
<code>来排序喔！</code></div>
<div><code>T</code> <code>：由该 Process 使用的</code> <code>CPU</code>
<code>时间累积 (</code><code>TIME</code><code>+) 排序。</code></div>
<br>
&nbsp;<wbr> <code><font color="#22B14C">六.启动命令</font><br></code><br>
<div><code>[root</code><code>@linux</code> <code>~]</code><code>#
top [-d] | top [-bnp]</code></div>
<div><code>参数：</code></div>
<div><code>-d ：后面可以接秒数，就是整个程序画面更新的秒数。预设是</code> <code>5</code>
<code>秒；</code></div>
<div><code>-b ：以批次的方式执行 top ，还有更多的参数可以使用喔！</code></div>
<div><code>通常会搭配数据流重导向来将批次的结果输出成为档案。</code></div>
<div><code>-n ：与 -b 搭配，意义是，需要进行几次 top 的输出结果。</code></div>
<div><code>-p ：指定某些个</code> <code>PID</code> <code>来进行观察监测而已。<br>
<br>
例如：</code><code>top -d 2 -p10604 观察进程10604<br>
<br>
<font color="#ED1C24">3.</font></code><font color="#ED1C24">jps(Java Virtual Machine Process Status Tool)是JDK
1.5提供的一个显示当前所有java进程pid的命令<br>
<font color="#ED1C24">&nbsp;<wbr></font><br></font></div>							
		</div>
